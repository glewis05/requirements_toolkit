# Requirements Dashboard Template Documentation

**Template Version:** 1.0
**Frozen Date:** 2025-01-14
**Owner:** Glen Lewis

This document describes the frozen v1.0 structure of the Requirements Dashboard. Use this as a reference when making changes to ensure consistency with the approved layout.

---

## Overview

The Requirements Dashboard is a single-file HTML page that displays user stories, acceptance criteria, and test case counts for Propel Health programs. It's generated by the MCP server and hosted on GitHub Pages.

**Live URL:** https://glewis05.github.io/requirements_toolkit/

**Generator Location:** `~/projects/propel_mcp/server.py`
- Function: `generate_requirements_dashboard()`
- Template: `generate_full_html_template()`

**Template Baseline:** `templates/dashboard_template_v1.0.html`

---

## Section Layout

The dashboard consists of these sections in order:

### 1. Header Section
- **Background:** Gradient from teal (#134e4a) to navy (#1e3a5f)
- **Elements:**
  - Header badge with document icon
  - Title: "Propel Health Requirements"
  - Subtitle: "User stories and acceptance criteria for all programs."
  - Meta items row: Total Stories | Test Cases | Last Updated

### 2. Programs Section
- **Title:** "Programs" (small section label)
- **Layout:** Auto-fit grid of summary cards (min 140px)
- **Cards per program:** Label, story count, test case count
- **Example programs:** DIS, ONB, P4M, PLAT

### 3. Priorities Section
- **Title:** "Priorities"
- **Three cards:**
  - Must Have (Critical priority) - red accent
  - Should Have (High priority) - green accent
  - Could Have (Future scope) - amber accent

### 4. Roadmap Summary
- **Title:** "Roadmap (Next 5 Quarters)"
- **Layout:** Grid inside bordered container
- **Items:** Q1-Q4 for 2025, Q1-Q4 for 2026, 2027+, Backlog, Unscheduled

### 5. Filter Controls
- **Layout:** Flex row with gap, wraps on mobile
- **Filter dropdowns:**
  - Program filter (All Programs + dynamic options)
  - Priority filter (All, Must Have, Should Have, Could Have)
  - Roadmap filter (All, quarters, Backlog, Unscheduled)
  - Search input with magnifying glass icon

### 6. Category Sections
Stories are grouped by functional category:

| Category | Icon | CSS Class |
|----------|------|-----------|
| Referral Workflow | üìã | referral |
| Analytics | üìä | analytics |
| Dashboard | üñ•Ô∏è | dash |
| Configuration | ‚öôÔ∏è | config |
| Compliance (Part 11) | üîí | audit |
| Roles & Permissions | üë§ | role |
| Other | üìÅ | other |

Each category section contains:
- Category header with icon, title, and story count
- Stories grid with story cards

### 7. Story Cards (Expandable)
Each card has two states:

**Collapsed (Header Only):**
- Story ID badge (e.g., P4M-REFERRAL-001)
- Story title
- Badges: Priority, Roadmap, Status version
- Toggle chevron icon

**Expanded (Full View):**
- Status Timeline with workflow stages
- User Story text in styled blockquote
- Acceptance Criteria as numbered list
- Test case count with checkmark icon

### 8. Footer
- "Propel Health Requirements Dashboard"
- "Requirements Toolkit v1.0 | Designed by Glen Lewis"
- Generation date

---

## Color Scheme

### CSS Custom Properties

```css
/* Background and Surface */
--color-bg: #f8fafb
--color-surface: #ffffff
--color-border: #e2e8f0
--color-border-light: #f1f5f9

/* Text */
--color-text: #1e293b
--color-text-secondary: #64748b
--color-text-muted: #94a3b8

/* Brand */
--color-primary: #0f766e (Teal)
--color-primary-light: #ccfbf1
--color-accent: #0ea5e9 (Blue)

/* Priority Badges */
--color-must-have: #dc2626 (Red)
--color-should-have: #059669 (Green)
--color-could-have: #d97706 (Amber)

/* Status */
--color-draft: #6366f1 (Indigo)

/* Programs */
--color-p4m: #0f766e (Teal)
--color-plat: #7c3aed (Purple)
```

### Badge Color Classes

**Priority Badges:**
- `.badge-must-have` - Red background (#fee2e2)
- `.badge-should-have` - Green background (#d1fae5)
- `.badge-could-have` - Amber background (#fef3c7)

**Roadmap Badges:**
- `.badge-q1-2025` through `.badge-q4-2025` - Teal tones
- `.badge-q1-2026` through `.badge-q4-2026` - Blue tones
- `.badge-2027-plus` - Purple (#fae8ff)
- `.badge-backlog` - Gray (#f1f5f9)
- `.badge-unscheduled` - Light gray (#f1f5f9)

**Story ID Badges:**
- `.story-id.p4m` - Teal
- `.story-id.plat` - Purple
- `.story-id.dis` - Blue
- `.story-id.onb` - Amber

---

## CSS Classes Reference

### Layout Classes
| Class | Purpose |
|-------|---------|
| `.header` | Gradient header section |
| `.header-content` | Centered header content |
| `.main` | Main content area (max-width 1400px) |
| `.summary-grid` | Auto-fit grid for summary cards |
| `.roadmap-summary` | Roadmap distribution grid |
| `.filter-controls` | Filter dropdowns row |
| `.category-section` | Category grouping container |
| `.stories-grid` | Grid of story cards |

### Component Classes
| Class | Purpose |
|-------|---------|
| `.summary-card` | Program/priority summary tile |
| `.story-card` | Expandable story container |
| `.story-header` | Clickable collapsed view |
| `.story-body` | Expanded content area |
| `.status-timeline` | Workflow progress indicator |
| `.badge` | Small pill-shaped label |

### State Classes
| Class | Purpose |
|-------|---------|
| `.story-card.open` | Expanded story card |
| `.story-card.hidden` | Filtered out (display: none) |
| `.timeline-stage.completed` | Filled timeline dot |
| `.timeline-stage.current` | Hollow dot with shadow |
| `.timeline-stage.pending` | Gray unfilled dot |

---

## Filter Dropdown Structure

```html
<div class="filter-controls">
    <div class="filter-control">
        <label class="filter-label" for="programFilter">Filter by Program</label>
        <select class="filter-select" id="programFilter">
            <option value="all">All Programs</option>
            <option value="p4m">P4M</option>
            <!-- Dynamic options -->
        </select>
    </div>
    <!-- Priority, Roadmap, Search controls -->
</div>
```

Filter values use lowercase with hyphens:
- Program: `p4m`, `plat`, `dis`, `onb`
- Priority: `must-have`, `should-have`, `could-have`
- Roadmap: `q1-2025`, `q2-2026`, `backlog`, `unscheduled`

---

## Status Timeline Format

The timeline shows workflow progression with 4 standard stages:

```
Draft ‚Üí Internal Review ‚Üí Client Review ‚Üí Approved
```

**Stage States:**
- `.completed` - Green filled dot, date shown
- `.current` - Hollow dot with glow, current stage
- `.pending` - Gray dot, dash for date

**Date Format:** M/D/YY (e.g., 1/14/25)

---

## Story Card Expanded View

```html
<div class="story-body">
    <!-- 1. Status Timeline -->
    <div class="story-section">
        <h4 class="story-section-title">Status Timeline</h4>
        <div class="status-timeline">...</div>
    </div>

    <!-- 2. User Story -->
    <div class="story-section">
        <h4 class="story-section-title">User Story</h4>
        <p class="user-story">As a..., I want to..., so that...</p>
    </div>

    <!-- 3. Acceptance Criteria -->
    <div class="story-section">
        <h4 class="story-section-title">Acceptance Criteria</h4>
        <ol class="acceptance-criteria">
            <li>Criterion 1</li>
            <li>Criterion 2</li>
        </ol>
    </div>

    <!-- 4. Test Count -->
    <div class="test-count">
        <svg>...</svg>
        5 test cases
    </div>
</div>
```

---

## JavaScript Functions

### toggleStory(header)
Toggles the `.open` class on the parent story card.

### filterStories()
Filters visible story cards based on:
- `programFilter` dropdown value
- `priorityFilter` dropdown value
- `roadmapFilter` dropdown value
- `searchInput` text (searches title and user story)

Updates category counts and hides empty categories.

---

## Responsive Breakpoints

**Mobile (max-width: 768px):**
- Header padding reduced
- Title font size: 1.5rem
- Summary grid: 2 columns
- Main padding: 1rem

**Print:**
- All story bodies expanded
- Filter controls hidden

---

## Version History

| Version | Date | Changes |
|---------|------|---------|
| 1.0 | 2025-01-14 | Initial frozen template - approved layout |

---

## Making Changes

When updating the dashboard:

1. **Minor fixes:** Update generator directly, keep version
2. **Layout changes:**
   - Create new template snapshot (v1.1, v2.0)
   - Update `DASHBOARD_TEMPLATE_VERSION` constant
   - Update this documentation
   - Create new git tag

**Generator location:**
```
~/projects/propel_mcp/server.py
- generate_full_html_template() (line ~12802)
- generate_requirements_dashboard() (line ~13519)
```
